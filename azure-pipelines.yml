
#################################################################################
#  WARNING                                                                      #
#  This file is autogenerated. Do NOT edit this file. Run =./build.py= instead  #
#################################################################################

trigger:
  - master
jobs:
  - job:
    displayName: Building on Fedora 36, Java 11
    pool:
      vmImage: ubuntu-latest
    steps:
      - script: |
          echo "Building the images"
          printf "Using %d threads\n" $(nproc)
          echo "------------------------------------------------------\n"

          sed "s/__fedora_version__/36/g" -i Dockerfile
          sed "s/__mandrel_version__/22.3.0.1-Final/g" -i Dockerfile
          sed "s/__java_version__/11/g" -i Dockerfile
          cat Dockerfile
        displayName: Adding the version

      - script: |
          docker build -f Dockerfile -t quarkus-native-builder:f36-j11 .
          
          echo "------------------------------------------------------\n"

          # echo "$DOCKER_PASSWORD" | docker login -u mercur3 --password-stdin
          # docker push $MEDIUM_36
          # docker push $FULL_36
          # env:
          #   DOCKER_PASSWORD: $(DOCKER_PASSWORD)
        displayName: docker build -f Dockerfile -t quarkus-native-builder:f36-j11 .

  - job:
    displayName: Building on Fedora 36, Java 17
    pool:
      vmImage: ubuntu-latest
    steps:
      - script: |
          echo "Building the images"
          printf "Using %d threads\n" $(nproc)
          echo "------------------------------------------------------\n"

          sed "s/__fedora_version__/36/g" -i Dockerfile
          sed "s/__mandrel_version__/22.3.0.1-Final/g" -i Dockerfile
          sed "s/__java_version__/17/g" -i Dockerfile
          cat Dockerfile
        displayName: Adding the version

      - script: |
          docker build -f Dockerfile -t quarkus-native-builder:f36-j17 .
          
          echo "------------------------------------------------------\n"

          # echo "$DOCKER_PASSWORD" | docker login -u mercur3 --password-stdin
          # docker push $MEDIUM_36
          # docker push $FULL_36
          # env:
          #   DOCKER_PASSWORD: $(DOCKER_PASSWORD)
        displayName: docker build -f Dockerfile -t quarkus-native-builder:f36-j17 .

  - job:
    displayName: Building on Fedora 37, Java 11
    pool:
      vmImage: ubuntu-latest
    steps:
      - script: |
          echo "Building the images"
          printf "Using %d threads\n" $(nproc)
          echo "------------------------------------------------------\n"

          sed "s/__fedora_version__/37/g" -i Dockerfile
          sed "s/__mandrel_version__/22.3.0.1-Final/g" -i Dockerfile
          sed "s/__java_version__/11/g" -i Dockerfile
          cat Dockerfile
        displayName: Adding the version

      - script: |
          docker build -f Dockerfile -t quarkus-native-builder:f37-j11 .
          
          echo "------------------------------------------------------\n"

          # echo "$DOCKER_PASSWORD" | docker login -u mercur3 --password-stdin
          # docker push $MEDIUM_36
          # docker push $FULL_36
          # env:
          #   DOCKER_PASSWORD: $(DOCKER_PASSWORD)
        displayName: docker build -f Dockerfile -t quarkus-native-builder:f37-j11 .

  - job:
    displayName: Building on Fedora 37, Java 17
    pool:
      vmImage: ubuntu-latest
    steps:
      - script: |
          echo "Building the images"
          printf "Using %d threads\n" $(nproc)
          echo "------------------------------------------------------\n"

          sed "s/__fedora_version__/37/g" -i Dockerfile
          sed "s/__mandrel_version__/22.3.0.1-Final/g" -i Dockerfile
          sed "s/__java_version__/17/g" -i Dockerfile
          cat Dockerfile
        displayName: Adding the version

      - script: |
          docker build -f Dockerfile -t quarkus-native-builder:f37-j17 .
          
          echo "------------------------------------------------------\n"

          # echo "$DOCKER_PASSWORD" | docker login -u mercur3 --password-stdin
          # docker push $MEDIUM_36
          # docker push $FULL_36
          # env:
          #   DOCKER_PASSWORD: $(DOCKER_PASSWORD)
        displayName: docker build -f Dockerfile -t quarkus-native-builder:f37-j17 .

